{% extends "base.html" %}

{% block title %}
Editar Egresos - Mis Finanzas
{% endblock %}

{% block page_title %}
Editar Egresos
{% endblock %}

{% block content %}
    <form method="POST">
        <label for="monto">Monto:</label>
        <input type="text" id="monto" name="monto" value="{{ egreso[2] }}" required>

        <label for="categoria">Categoría:</label>
        <select id="categoria" name="categoria">
            {% for categoria in categorias %}
                <option value="{{ categoria }}" {% if categoria == egreso[3] %}selected{% endif %}>{{ categoria }}</option>
            {% endfor %}
        </select>

        <label for="medio_pago">Medio de Pago:</label>
        <select id="medio_pago" name="medio_pago">
            <option value="Efectivo" {% if egreso[4] == 'Efectivo' %}selected{% endif %}>Efectivo</option>
            <option value="Tarjeta de Credito" {% if egreso[4] == 'Tarjeta de Credito' %}selected{% endif %}>Tarjeta de Crédito</option>
            <option value="Tarjeta de Debito" {% if egreso[4] == 'Tarjeta de Debito' %}selected{% endif %}>Tarjeta de Débito</option>
            <option value="MODO" {% if egreso[4] == 'MODO' %}selected{% endif %}>MODO</option>
        </select>

        {% if egreso[4] in ['Tarjeta de Credito', 'Tarjeta de Debito', 'MODO'] %}
            <label for="banco_entidad">Banco/Entidad:</label>
            <select id="banco_entidad" name="banco_entidad">
                {% for banco in bancos %}
                    <option value="{{ banco }}" {% if banco == egreso[5] %}selected{% endif %}>{{ banco }}</option>
                {% endfor %}
            </select>
        {% endif %}

        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" name="fecha" value="{{ egreso[8] }}" required>

        <button type="submit">Guardar Cambios</button>
    </form>
    {% endblock %}
